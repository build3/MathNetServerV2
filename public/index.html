<html>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/core-js/2.1.4/core.min.js"></script>
<script src="//unpkg.com/@feathersjs/client@^3.0.0/dist/feathers.js"></script>
<script src="//unpkg.com/socket.io-client@1.7.3/dist/socket.io.js"></script>
<script>

  var socket = io('http://localhost:3030');

  var app = feathers();
  app.configure(feathers.authentication());
  app.configure(feathers.socketio(socket), {
      transports: ['websocket'],
      forceNew: true,
      reconnection: false,
      extraHeaders: {},
  });

  async function test() {
      app.authenticate({
          strategy: "local",
          username: "rafal",
          password: "test",
      }).then( jwt => {
          app.passport.setJWT(jwt);

          app.service('workshops').on('patched', arg => {
              console.log(arg)
          });

          app.service('elements').on('patched', arg => {
              console.log('elements')
              console.log(arg)
          });

          app.service('constructions').on('patched', arg => {
              console.log(arg)
          });
      });
  }

  test();
</script>

  <head>
    <title>Welcome to Feathers</title>

  </head>
  <body>

    </main>
  </body>
</html>
